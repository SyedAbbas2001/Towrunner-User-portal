<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="stylesheet" href="https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="sidebar.css" />
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    integrity="sha512-LCbAe7P0H1aDlNz5se6MdD2tUfOshExQpwcm4RfxhKk+tu2eQVgSLjsSbpAl0Ilq60L5w5wT0l+3Zrjh1vYN0Q=="
    crossorigin="anonymous" />
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous" />
  <title>Document</title>

</head>

<body>
  <div class="sidebar">
    <div class="sidebartop">
      <div class="logo-details">
        <img src="./assets/arbilogo.png" class="logo" />
      </div>
      <i class="bx bx-menu"></i>
    </div>

    <ul class="nav-links">
      <li>
        <div class="profile-details">
          <div class="profile-content">
            <img src="https://gravatar.com/avatar/f57bddebd1edf91412d5d68702530099" alt="profileImg" />
          </div>
          <div class="name-job">
            <div class="profile_name">Arbeittech</div>
            <div class="job">Services</div>
          </div>
          <i class="bx bx-log-out" style="text-align: right; margin-left: 30px"></i>
        </div>
      </li>
      <div class="dashboard_heading logo-details">MAIN</div>
      <li>
        <a href="/index.html">
          <i class="bx bx-grid-alt"></i>
          <span class="link_name">Dashboard</span>
        </a>
        <ul class="sub-menu blank">
          <li><a class="link_name" href="#">Dashboard</a></li>
        </ul>
      </li>
      <div class="dashboard_heading logo-details">Booking Management</div>
      <li>
        <div class="iocn-link">
          <a href="#">
            <i class="bx bx-collection"></i>
            <span class="link_name">My Bookings</span>
          </a>
          <i class="bx bxs-chevron-down arrow"></i>
        </div>
        <ul class="sub-menu">
          <li><a class="link_name" href="#">My Bookings</a></li>
          <li><a href="./bookingRequest.html">My Booking Requests</a></li>
          <li><a href="./accepted.html">Accepted</a></li>
          <li><a href="./ongoing.html">Ongoing</a></li>
          <li><a href="./completed.html">Completed</a></li>
          <li><a href="./cancelled.html">Canceled</a></li>
        </ul>
      </li>
      <li>
        <a href="/index.html">
          <i class="fas fa-hard-hat"></i>
          <span class="link_name">Book a Serviceman</span>
        </a>
        <ul class="sub-menu blank">
          <li><a class="link_name" href="#">Book a Serviceman</a></li>
        </ul>
      </li>
      <div class="dashboard_heading logo-details">User Management</div>
      <li>
        <a href="updateProfile.html">
          <i class="bx bx-cog"></i>
          <span class="link_name">Profile Setting</span>
        </a>
        <ul class="sub-menu blank">
          <li><a class="link_name" href="#">Setting</a></li>
        </ul>
      </li>
      <li>
        <a href="/notification.html">
          <i class="bx bx-bell"></i>
          <span class="link_name">Notification</span>
        </a>
        <ul class="sub-menu blank">
          <li><a class="link_name" href="#">Notiication</a></li>
        </ul>
      </li>
      <li>
        <a href="#">
          <i class="fas fa-question-circle"></i>
          <span class="link_name">Support</span>
        </a>
        <ul class="sub-menu blank">
          <li><a class="link_name" href="#">Support</a></li>
        </ul>
      </li>
      <div class="dashboard_heading logo-details">Account Management</div>

      <li>
        <a href="/payment.html">
          <i class="bx bx-credit-card"></i>
          <span class="link_name">Payment</span>
        </a>
        <ul class="sub-menu blank">
          <li><a class="link_name" href="#">Payment</a></li>
        </ul>
      </li>
      <li>
        <a href="/wallet.html">
          <i class="bx bx-wallet"></i>
          <span class="link_name">Wallet</span>
        </a>
        <ul class="sub-menu blank">
          <li><a class="link_name" href="#">Wallet</a></li>
        </ul>
      </li>
      <li>
        <a href="/refer.html">
          <i class="bx bx-group"></i>
          <span class="link_name">Refer a Friend</span>
        </a>
        <ul class="sub-menu blank">
          <li><a class="link_name" href="#">Refer a Friend</a></li>
        </ul>
      </li>

    </ul>
  </div>

  <section class="home-section">
    <div class="top_navbar">
      <div class="input-box">
        <i class="fa fa-search"></i>
        <input type="text" class="form-control" placeholder="search here" />
      </div>
      <i class="fas fa-comment mx-3"></i>
      <i class="fas fa-bell mx-3"></i>

      <div class="dropdown">
        <div class="dropdown-toggle avatar" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown"
          aria-expanded="false">
          <img src="./assets/proav.jpg" />
        </div>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
          <li>
            <a class="dropdown-item" href="updateProfile.html"><i class="fas fa-user"></i>Profile
            </a>
          </li>

          <li>
            <a class="dropdown-item" href="#">
              <i class="fas fa-sign-out-alt"></i>
              Logout</a>
          </li>
          <li>
            <a class="dropdown-item" href="updateProfile.html"><i class="fas fa-cogs"></i> Settings</a>
          </li>
        </ul>
      </div>
    </div>
    <div class="dashboard_pages">
      <div class="live_activity">
        <h5>Update Profile</h5>
      </div>

      <div class="other_container">
        <span class="dashheading">General Information</span>
        <div class="row">
          <div class="col-md-6">
            <div class="label-float">
              <input type="text" placeholder=" " />
              <label> Name </label>
            </div>
            <div class="label-float">
              <input type="email" placeholder=" " />
              <label> Email</label>
            </div>
            <div class="label-float">
              <input type="number" placeholder=" " />
              <label>Phone</label>
            </div>

            <div class="label-float">
              <input type="text" placeholder=" " />
              <label>Address </label>
            </div>
            <br />
            <span class="dashheading">Account Information</span>
            <div class="row">
              <div class="col-md-6">
                <div class="label-float">
                  <input type="text" placeholder=" " />
                  <label>First Name </label>
                </div>
              </div>
              <div class="col-md-6">
                <div class="label-float">
                  <input type="text" placeholder=" " />
                  <label>Last Name </label>
                </div>
              </div>
            </div>
            <div class="label-float">
              <input type="email" placeholder=" " />
              <label>Email*</label>
            </div>
            <div class="label-float">
              <input type="number" placeholder=" " />
              <label>Phone</label>
            </div>
            <div class="row">
              <div class="col-md-6">
                <div id="material-text-field__container" class="material-text-field__container">
                  <input id="password" class="material-text-field__input-text" required="required" type="password" />
                  <div id="password-label" class="material-text-field__label-text">
                    Password
                  </div>
                  <i id="password-icon" class="material-text-field__trailing-icon material-icons">visibility_off</i>
                </div>
              </div>
              <div class="col-md-6">
                <div id="confirm-password-container" class="material-text-field__container">
                  <input id="confirm-password" class="material-text-field__input-text" required="required"
                    type="password" />
                  <div id="confirm-password-label" class="material-text-field__label-text">
                    Confirm Password
                  </div>
                  <i id="confirm-password-icon"
                    class="material-text-field__trailing-icon material-icons">visibility_off</i>
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-6 px-3">
            <div class="profile_cont">
              <h5>Profile Image</h5>
              <label for="fileInput" class="drop-area">
                <img id="preview_img" class="h-16 w-16 object-cover rounded-full" src="./assets/uploaderimg.png"
                  alt="Current profile photo" />
                <input type="file" id="fileInput" accept="image/*" onchange="loadFile(event)" />
                <button id="changeImageButton" onclick="openFileUploader()">
                  <i class="fas fa-pencil-alt"></i>
                </button>
              </label>
              <p>
                Image format - jpg png jpeg gif Image Size - maximum size 2 MB
                Image Ratio - 1:1
              </p>
            </div>
            <div>
              <p class="dashheading text_center">Identification Image</p>
              <div class="upload__box" id="uploadBox">
                <div class="upload__btn-box"
                  style="display: flex;justify-content: center;align-items: center;flex-direction: column;">
                  <label class="upload__btn">
                    <i class="fas fa-cloud-upload-alt"></i>
                    <span> Upload images</span>
                    <input type="file" id="fileInput" multiple="" data-max_length="20" class="upload__inputfile" />
                  </label>
                </div>
                <div class="upload__img-wrap" id="uploadImgWrap"></div>
              </div>
            </div>

          </div>
        </div>
      </div>
    </div>
  </section>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
    integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
    integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
    integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
    crossorigin="anonymous"></script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
    crossorigin="anonymous"></script>
  <script>
    function loadFile(event) {
      var input = event.target;
      var file = input.files[0];
      var type = file.type;
      var output = document.getElementById("preview_img");

      output.src = URL.createObjectURL(event.target.files[0]);
      output.onload = function () {
        URL.revokeObjectURL(output.src); // free memory
      };
    }

    function openFileUploader() {
      var fileInput = document.getElementById("fileInput");
      fileInput.click();
    }
    /*  Make elements easier to reference later */
    const passwordInput = document.getElementById("password");
    const confirmPasswordInput = document.getElementById("confirm-password");
    const passwordIcon = document.getElementById("password-icon");
    const confirmPasswordIcon = document.getElementById("confirm-password-icon");

    let isShowPassword = false;

    const on = (el, event, cb) => el.addEventListener(event, cb);

    const togglePasswordVisibility = (input, icon) => {
      isShowPassword = !isShowPassword;
      if (isShowPassword) {
        input.setAttribute("type", "text");
        icon.innerHTML = "visibility";
      } else {
        input.setAttribute("type", "password");
        icon.innerHTML = "visibility_off";
      }
    };

    on(passwordIcon, "click", () => {
      togglePasswordVisibility(passwordInput, passwordIcon);
    });

    on(confirmPasswordIcon, "click", () => {
      togglePasswordVisibility(confirmPasswordInput, confirmPasswordIcon);
    });
  </script>
  <script>
    let arrow = document.querySelectorAll(".arrow");
    for (var i = 0; i < arrow.length; i++) {
      arrow[i].addEventListener("click", (e) => {
        let arrowParent = e.target.parentElement.parentElement; //selecting main parent of arrow
        arrowParent.classList.toggle("showMenu");
      });
    }
    let sidebar = document.querySelector(".sidebar");
    let sidebarBtn = document.querySelector(".bx-menu");
    console.log(sidebarBtn);
    sidebarBtn.addEventListener("click", () => {
      sidebar.classList.toggle("close");
    });




    jQuery(document).ready(function () {
      // Initialize the image upload functionality
      ImgUpload();

      // Add event listeners for drag and drop
      var uploadBox = document.getElementById('uploadBox');

      // Prevent default drag behaviors
      ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
        uploadBox.addEventListener(eventName, preventDefaults, false);
      });

      // Highlight drop area when dragging over it
      ['dragenter', 'dragover'].forEach(eventName => {
        uploadBox.addEventListener(eventName, highlight, false);
      });

      ['dragleave', 'drop'].forEach(eventName => {
        uploadBox.addEventListener(eventName, unhighlight, false);
      });

      // Handle dropped files
      uploadBox.addEventListener('drop', handleDrop, false);
    });

    function preventDefaults(e) {
      e.preventDefault();
      e.stopPropagation();
    }

    function highlight() {
      uploadBox.classList.add('highlight');
    }

    function unhighlight() {
      uploadBox.classList.remove('highlight');
    }

    function handleDrop(e) {
      var dt = e.dataTransfer;
      var files = dt.files;

      handleFiles(files);
    }

    function handleFiles(files) {
      var imgWrap = document.getElementById('uploadImgWrap');
      var imgArray = imgWrap.querySelectorAll('.img-bg'); // Get existing images
      var existingFileNames = Array.from(imgArray).map(function (image) {
        return image.dataset.file;
      });

      // Process each dropped file
      [...files].forEach(file => {
        if (!file.type.match('image.*')) {
          return;
        }

        // Check if the file is already present in the preview
        if (existingFileNames.includes(file.name)) {
          console.log('File ' + file.name + ' already exists.');
          return;
        }

        var reader = new FileReader();
        reader.onload = function (e) {
          var html = "<div class='upload__img-box'><div style='background-image: url(" + e.target.result + ")' data-number='" + $(".upload__img-close").length + "' data-file='" + file.name + "' class='img-bg'><div class='upload__img-close'></div></div></div>";
          imgWrap.innerHTML += html;
        }
        reader.readAsDataURL(file);
      });
    }

    function ImgUpload() {
      var imgArray = [];

      $('.upload__inputfile').each(function () {
        $(this).on('change', function (e) {
          var imgWrap = $(this).closest('.upload__box').find('.upload__img-wrap');
          var maxLength = $(this).attr('data-max_length');

          var files = e.target.files;
          var filesArr = Array.prototype.slice.call(files);

          filesArr.forEach(function (f, index) {
            if (!f.type.match('image.*')) {
              return;
            }

            if (imgArray.length >= maxLength) {
              return false;
            } else {
              var reader = new FileReader();
              reader.onload = function (e) {
                var html = "<div class='upload__img-box'><div style='background-image: url(" + e.target.result + ")' data-number='" + $(".upload__img-close").length + "' data-file='" + f.name + "' class='img-bg'><div class='upload__img-close'></div></div></div>";
                imgWrap.append(html);
              }
              reader.readAsDataURL(f);
              imgArray.push(f);
            }
          });
        });
      });

      $('body').on('click', ".upload__img-close", function (e) {
        var file = $(this).parent().data("file");
        imgArray = imgArray.filter(function (item) {
          return item.name !== file;
        });
        $(this).parent().parent().remove();
      });
    }
  </script>
</body>

</html>